name: Version Management

on:
  push:
    branches: [main]
    # Skip if this is already a release commit
    paths-ignore:
      - 'CHANGELOG.md'
  workflow_dispatch:

concurrency:
  group: version-${{ github.ref }}
  cancel-in-progress: false

jobs:
  version:
    name: Create Version PR
    uses: NextNodeSolutions/github-actions/.github/workflows/version-management.yml@main
    with:
      node-version: '20'
      pnpm-version: '10.11.0'
      version-script: 'changeset:version'
    secrets: inherit
